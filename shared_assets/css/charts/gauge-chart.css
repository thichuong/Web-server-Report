/**
 * =============================================================================
 * GAUGE CHART STYLES (MODIFIED WITH HOVER EFFECTS)
 * =============================================================================
 * This file contains all the styles for the interactive gauge chart.
 * It relies on variables defined in 'colors.css' for theming.
 */


.gauge-container {
    width: 100%;
    height: auto;
    max-width: 800px; /* Tăng kích thước tối đa từ 560px lên 800px */
    max-height: 600px; /* Tăng chiều cao tối đa từ 400px lên 600px */
    display: flex;
    justify-content: center;
    align-items: flex-start; /* Thay đổi từ center sang flex-start để đẩy lên cao */
    margin: -15px auto 0 auto; /* Giảm margin âm từ -20px xuống -15px */
    position: relative; /* Để có thể căn giữa tuyệt đối nếu cần */
    box-sizing: border-box; /* Đảm bảo padding/border không ảnh hưởng sizing */
}


.gauge-svg {
    width: 100%;
    height: auto;
    max-width: 100%;
    max-height: 100%;
    overflow: visible; /* Allows elements like the needle to not be clipped */
    display: block; /* Loại bỏ khoảng trắng dưới inline element */
    margin: -5px auto 0 auto; /* Giảm margin âm từ -10px xuống -5px */
    transform: translateY(-5px); /* Giảm transform từ -10px xuống -5px */
}


/* --- SVG Paths --- */


/* The main background track of the gauge */
.gauge-track {
    fill: none;
    stroke: var(--bg-primary); /* Use background color for the track */
    stroke-width: 32; /* Tăng từ 22 lên 32 để phù hợp với kích thước lớn hơn */
    stroke-linecap: round;
}


/* Base style for the colored segments */
.gauge-segment {
    fill: none;
    stroke-width: 32; /* Tăng từ 22 lên 32 để phù hợp với kích thước lớn hơn */
    transition: stroke-width 0.15s ease, stroke 0.15s ease; /* Optimized for performance */
}


.gauge-segment:hover {
    stroke-width: 38; /* Tăng từ 26 lên 38 để tương ứng với stroke-width mới */
    cursor: pointer; /* Indicate interactivity */
}


/* Example of how to define darker color variables (in colors.css):
:root {
    --fng-extreme-fear-color: #ff6347;
    --fng-extreme-fear-color-darker: #cc503a;
    --fng-fear-color: #ff8c00;
    --fng-fear-color-darker: #cc7000;
    --fng-neutral-color: #20b2aa;
    --fng-neutral-color-darker: #198f84;
    --fng-greed-color: #32cd32;
    --fng-greed-color-darker: #26a126;
    --fng-extreme-greed-color: #00ff00;
    --fng-extreme-greed-color-darker: #00cc00;
}
*/


/* Apply darker stroke on hover */
/*
.gauge-segment:hover {
    stroke-width: 26;
    stroke: var(--fng-extreme-fear-color-darker); 
}
.gauge-segment:nth-child(2):hover {
    stroke: var(--fng-fear-color-darker);
}
.gauge-segment:nth-child(3):hover {
    stroke: var(--fng-neutral-color-darker);
}
.gauge-segment:nth-child(4):hover {
    stroke: var(--fng-greed-color-darker);
}
.gauge-segment:nth-child(5):hover {
    stroke: var(--fng-extreme-greed-color-darker);
}
*/


/* --- Needle Elements --- */


.gauge-needle-group {
    /* Optimized for real-time updates - reduced from 0.8s to improve Firefox performance */
    transition: transform 0.15s ease-out;
}


.gauge-needle-pointer {
    fill: var(--gauge-needle-color); /* Use dedicated needle color */
}


.gauge-needle-pivot {
    fill: var(--gauge-needle-pivot-color); /* Use dedicated pivot color */
}




/* --- Text Elements --- */

.gauge-text-group {
    /* Đảm bảo text group luôn ở giữa */
    transform-origin: center center;
}

.gauge-text {
    text-anchor: middle; /* Center the text horizontally */
    font-family: sans-serif;
    dominant-baseline: central; /* Center the text vertically */
}




/* --- Text Elements --- */

.gauge-text {
    text-anchor: middle;
    transition: transform 0.1s ease, fill 0.1s ease;
    transform-origin: center; /* ADD THIS LINE */
}

.gauge-value-text {
    fill: var(--gauge-value-text-color); /* Use dedicated text color */
    font-size: 4rem; /* Tăng từ 2.5rem (40px) lên 3rem (48px) */
    font-weight: 800;
}

.gauge-label-text {
    font-size: 1.5rem; /* Tăng từ 1rem (16px) lên 1.125rem (18px) */
    font-weight: 600;
    /* The fill color is set dynamically via JavaScript */
}

/* --- ADD THIS NEW RULE FOR THE HOVER EFFECT --- */
.gauge-value-text:hover,
.gauge-label-text:hover {
    transform: scale(1.1);   /* Scales the text up by 10% */
    cursor: pointer;         /* Changes the cursor to a pointer */
}



/* Adaptive sizing dựa trên kích thước container cha */
.card .gauge-container,
.report-card .gauge-container {
    max-width: min(240px, 95%); /* Tăng từ 400px xuống 240px để vừa card 256px - chiếm 95% width */
    max-height: min(200px, 100%); /* Điều chỉnh height tương ứng - chiếm 100% height có thể */
    margin-top: -25px; /* Giảm margin âm từ -30px xuống -25px để không đẩy quá cao */
    padding-top: 5px; /* Giảm padding từ 10px xuống 5px */
}

/* Đảm bảo gauge căn giữa trong mọi layout */
.gauge-container {
    /* Flexbox fallback cho trình duyệt cũ */
    -webkit-box-pack: center;
    -webkit-box-align: center;
    -ms-flex-pack: center;
    -ms-flex-align: center;
}

/* Đảm bảo gauge căn giữa trong grid layout */
.grid-item .gauge-container,
.flex-item .gauge-container {
    place-self: center; /* CSS Grid căn giữa */
    align-self: center; /* Flexbox căn giữa */
    justify-self: center; /* CSS Grid căn giữa */
}

/* Override cho các container đặc biệt */
div[id*="gauge-container"] {
    margin-left: auto !important;
    margin-right: auto !important;
}